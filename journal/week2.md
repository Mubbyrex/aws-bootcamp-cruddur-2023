# Week 2 â€” Distributed Tracing

## Required Homework and Task

### Instrument Honeycomb for the frontend-application to observe network latency between frontend and backend

added OTEL requirements to my backend python file

![OTEL requirements](/assets/otel-requirements.jpg)

initialized Honeycomb in my App.py file

![Honeycomb init](/assets/Honeycomb_init.jpg)

![Honeycomb init](/assets/Honeycomb_init-1.jpg)

Trace data was generated by Honeycomb when I runned my application and interacted with it

![Honeycombtrace](/assets/Honeycomb-trace.png)

![Honeycombtrace](/assets/Honeycomb-trace-2.png)

![Honeycombtrace](/assets/Honeycomb-trace-3.png)

### Instrument AWS X-Ray into backend flask application

Installed AWS X-ray sdk tool kit with
`pip install aws-xray-sdk`

imported X-ray middleware and recoreder in my App.py file

![imported xray](/assets/xray-middleware.jpg)

setting up an AWS X-ray resource in json format

![xray json](/assets/xrayjson.png)


created an xray group on AWS
![xray group](/assets/xray-group.jpg)
![xray group](/assets/xray-group1.png)


I created a sampling rule using the json file made earlier

![sampling output](/assets/samplingrule-output.jpg)

added Deamon Service to Docker Compose file

![deamon service](/assets/xray-daemon-container.jpg)

run the docker compose up command and started all my containers
,opened the frontend port and interract with it

view traces on cloudwatch

![cloud traces](/assets/aws-trace.png)
![cloud traces](/assets/aws-trace1.png)
![cloud traces](/assets/aws-trace2.png)

### Install WatchTower and write a custom logger to send application log data to - CloudWatch Log group

Installed watchtower by adding it to the requirement.txt file and running `pip install -r requirement.txt`

Configure custom logger to send to CloudWatch Logs

![configure logs](/assets/configuring-logger.jpg)
![adding error function](/assets/log-error-code.jpg)

started up and interracted my crudder app.

checked the cloudwatch logs in my AWS console

![cloud watch log](/assets/cloudwatch.jpg)
![cloud watch log](/assets/cloudwatch1.jpg)

### Integrate Rollbar and capture and error

installed rollbar and blinker through pip

passed the Rollbar access token as environmental variable

import and initialized Rollbar in App.py

![import rollbar](/assets/import-rollbar.jpg)
![rollbar init](/assets/rollbar-init.jpg)

created a new endpoint to test rollbar

![rollbar endpoint](/assets/rollbar-test.jpg)

started my docker containers using the docker compose plug in

run the error endpoint I created, and checked on the Rollbar UI for error items

![rollbar error ui](/assets/rollbar-error-ui.jpg)
![rollbar error ui](/assets/rollbar-error-ui1.jpg)
![rollbar error ui](/assets/rollbar-error-ui2.jpg)
